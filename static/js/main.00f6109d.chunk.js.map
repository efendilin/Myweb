{"version":3,"sources":["treeview.js","makeOption.js","demo.js","toolbar.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","root","height","flexGrow","maxWidth","DemoTreeView","props","MyJson","openDia","classes","Tson_tree","category_list","map","cate","TreeItem","key","nodeId","label","category","item","index","main","onClick","event","value","cate_short","shortcut","TreeView","className","defaultCollapseIcon","defaultExpandIcon","re","regexp","sub_op_regexp","in_regexp","is_default","in_blank_regexp","in_blank_test","in_blank_split","BlinkSent","blinksents","blinks","split","console","log","Grid","container","spacing","a_blink","b_index","b_check","exec","id","toString","htmlFor","defaultChecked","name","type","InVOptions","options","g_index","form_value","direction","option","option_indxe","xs","ref","jointer","list","seper","length","join","slice","InOptions","sub_matchs","parentype","React","useState","matchs_","temp","forEach","match_","replace","in_match","in_type","in_op","element","test","push","setDefault","setValue","check","setCheck","style","backgroundColor","handleChangeValue","e","sub_index","myitem","document","getElementsByName","temps","obj","checked","boxClick","onChange","mainOption","sub_match","sub_check","vaule","AnyOptions","size","set_form_value","g_num","replaceAll","match","option_index","groups","myArray","chunk_size","results","splice","Grouped","group","selected","Makeoption","matches","set_from_value","theme","palette","background","paper","display","tabs","borderRight","divider","VerticalTabs","setMyJson","edopen","setEdOpen","current_cate_short","setCurrent_cate_short","setMain","save","open","setOpen","handleClickOpen","handleClose","insertText","text","target","getElementById","startPosition","selectionStart","setRangeText","focus","execCommand","the_end","selectionEnd","editClose","textAreaStyle","width","border","padding","overflow","marginLeft","item1","expanded","item2","onKeyUp","currentTarget","re_word","keyword","begin","charAt","find_key","Object","entries","result","find","shortCuts","Button","myEdit","select","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogActions","color","re_block","myForm","data","FormData","pair","indexOf","sub_number","block_index","keys","defaultValue","cateCombo","alert","the_index","instruction","get_instruction","menuButton","marginRight","title","ButtonAppBar","action","anchorEl","setAnchorEl","handleMenu","act","AppBar","position","Toolbar","IconButton","edge","aria-label","keepMounted","Boolean","MenuItem","Typography","variant","the_default","Default","getData","localStorage","getItem","checkshort","final_finded","finded","findIndex","App","save_local","JSON","stringify","removeItem","setItem","loadfile","reader","FileReader","onload","parse","readAsText","files","fileName","a","createElement","file","Blob","filename","prompt","href","URL","createObjectURL","download","click","accept","callback","inputElement","addEventListener","dispatchEvent","MouseEvent","openFileDialog","shortname","add_template","add_category","load_local","window","confirm","del_template","location","hostname","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.00f6109d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TreeView from '@material-ui/lab/TreeView';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport TreeItem from '@material-ui/lab/TreeItem';\r\n\r\n\r\nexport const useStyles = makeStyles({\r\n  root: {\r\n    height: 240,\r\n    flexGrow: 1,\r\n    maxWidth: 400,\r\n  },\r\n});\r\n\r\n\r\nexport default function DemoTreeView(props) {\r\n  const { MyJson, openDia } = props;\r\n  const classes = useStyles();\r\n  const handleclick = (e, value, cate_short) => {\r\n    // console.log('the target: ' + Object.keys(e.target.dataset));\r\n    openDia(value, cate_short);\r\n  };\r\n\r\n  \r\n\r\n  const Tson_tree = MyJson.category_list.map((cate) => {\r\n    return (\r\n      <TreeItem key={cate} nodeId={cate} label={cate}>\r\n        {MyJson.category[cate].map((item, index) => {\r\n          return <TreeItem key={index} main={item.main} onClick={event => handleclick(event, item.main, [cate, item.shortcut])} nodeId={cate + '_' + index} label={item.shortcut}/>\r\n        })}\r\n      </TreeItem>\r\n      );\r\n  })\r\n\r\n  \r\n  return (\r\n    <TreeView\r\n      className={classes.root}\r\n      defaultCollapseIcon={<ExpandMoreIcon />}\r\n      defaultExpandIcon={<ChevronRightIcon />}\r\n      // onNodeSelect = {handleclick}\r\n\r\n    >\r\n      \r\n      {Tson_tree}\r\n    </TreeView>\r\n  );\r\n}","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst re = /(G\\d{.*?}|M.?{.*?}|m.?{.*?}|H{.*?}|h{.*?}|V{.*?}|v{.*?}|L{.*?}|C{.*?}|c{.*?}|#{.*?}|\\r?\\n)/;\r\nconst regexp = /(^G\\d|^M.?|^m.?|^H|^h|^V|^v|^L|^#|^C|^c){(.+?)}/;\r\n// const sub_getop_regexp = /H\\[(.?)\\]|M\\[(.?)\\]|LE\\[(.?)\\]|C\\d*\\[(.?)\\]|L\\d*\\[(.?)\\]/;\r\nconst sub_op_regexp = /(H\\[.*?\\]|M\\[.*?\\]|LE\\[.*?\\]|C\\d*\\[.*?\\]|L\\d*\\[.*?\\])/;\r\nconst in_regexp = /(H|M|C|LE)\\[(.*?)\\]/g;\r\nconst is_default = /\\+(?!\\&)/;\r\nconst in_blank_regexp = /(L|C)\\[(.*?)\\]/g;\r\nconst in_blank_test = /(L\\[.*?\\]|C\\[.*?\\])/;\r\nconst in_blank_split = /(L\\[.*?\\]|C\\[.*?\\]|\\s.+?\\s)/;\r\n\r\nexport function BlinkSent(props) {\r\n  const { blinksents, index } = props;\r\n  const blinks = blinksents.split(in_blank_split);\r\n  console.log(blinks);\r\n\r\n  const Blinkcombo = (b_options, id) => {\r\n    b_options = b_options.split('|');\r\n\r\n    return(\r\n      <select name={id} >\r\n      {b_options.map((option, option_indxe) => {\r\n        if (option.match(/[+]/g))  {\r\n          option = option.replace(/[+]/g,'')\r\n          return (<option key={id} value={option} selected={true}> {option} </option>);\r\n        }else{\r\n          return (<option key={id} value={option}> {option} </option>);\r\n        }\r\n      })}\r\n      </select>\r\n    );\r\n  }\r\n\r\n  return(\r\n    <Grid\r\n    container\r\n    spacing={1}\r\n    >\r\n      {blinks.map((a_blink, b_index) => {\r\n        let b_check = in_blank_regexp.exec(a_blink);\r\n        console.log(b_check);\r\n        const id = `${index}_b${b_index.toString()}`;\r\n        if (b_check) {\r\n          switch(b_check[1]) {\r\n            case 'L':\r\n              return(<Grid key={'B' + id} item ><input key={id} defaultChecked name={id} \r\n              type=\"text\" /> </Grid>);\r\n            case 'C':\r\n              return(<Grid key={'B' + id} item ><input key={id} defaultChecked name={id} \r\n              type=\"text\" /> </Grid>);\r\n            default:\r\n              return(<Grid key={'B' + id} item > </Grid>);\r\n          };\r\n        }else{\r\n          return(<Grid key={'B' + id} item > <label htmlFor={'B' + id}> {a_blink} </label> </Grid>);\r\n        }\r\n\r\n      })}\r\n\r\n    </Grid>\r\n  );\r\n}\r\n\r\n\r\nexport function InVOptions(props) {\r\n    const { options, index, g_index, form_value } = props;\r\n  \r\n    return(\r\n      <Grid\r\n      container\r\n      direction=\"row\"\r\n      spacing={1}\r\n      >\r\n        {options.map((option, option_indxe) => {\r\n          const id = g_index + '_' + option_indxe;\r\n            if (option === 'blank') {\r\n              return (<Grid key={id} item xs> <label> </label> </Grid>);\r\n            }else{\r\n            return (<Grid key={id} item xs> <input ref={form_value[index]} name={index} id={'G_' + id} type=\"checkbox\"  value={option}/> <label htmlFor={'G_' + id}> {option} </label> </Grid>);\r\n            }\r\n          }\r\n        )}\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  export function setDefault(matchs_) {\r\n\r\n    let temp = [];\r\n    console.log(matchs_);\r\n    matchs_.forEach(match_ => {\r\n      match_ = match_.replace(in_regexp, (in_match, in_type, in_op) => {\r\n        let temp = [];\r\n        in_op.split('|&').forEach(element => {\r\n            if (is_default.test(element)) {\r\n                element = element.replace(is_default,'').replace('+&','+');\r\n                temp.push(element);\r\n            }\r\n        });\r\n        if (temp.length > 0&&in_type === 'H') {\r\n            return temp[0];\r\n        }else if (temp.length > 0&&in_type === 'M') {\r\n            return jointer(temp);\r\n        }else if (in_type === 'LE') {\r\n            return in_op;\r\n        }else {\r\n            return \"\";\r\n        }\r\n    });\r\n      temp.push(match_);\r\n    });\r\n    return temp.join('');\r\n  }\r\n\r\n  export function jointer(list, seper) {\r\n    if (list.length === 1) {\r\n      return list[0];\r\n    }else if (list.length === 0){\r\n      return '';\r\n    }else if (seper){\r\n      return list.join(seper);\r\n    }else if (list.length === 2) {\r\n      return list[0] + ' and ' + list[1];\r\n    }else{\r\n      return list.slice(0,list.length - 1).join(', ') + ' and ' + list[list.length - 1];\r\n    }\r\n  }\r\n  \r\n  export function InOptions(props) {\r\n    const { sub_matchs, label, index, parentype, form_value } = props;\r\n    const [value, setValue] = React.useState(setDefault(sub_matchs));\r\n    //const sub_op_regexp = /H\\[(\\d+)\\]|M\\[(\\d+)\\]/;\r\n    const [check, setCheck] = React.useState(false);\r\n    const style = {\r\n      backgroundColor: 'lightgreen'\r\n    }\r\n  \r\n    let handleChangeValue = (e) => {\r\n      let temp = \"\";\r\n\r\n      sub_matchs.forEach((item, sub_index) => {\r\n        const name = label + '_' +  item + '_' + sub_index.toString();\r\n        if (sub_op_regexp.test(item)) {\r\n          const myitem = document.getElementsByName(name);\r\n          let temps = [];\r\n          myitem.forEach((obj) => {\r\n            if (obj.checked) {\r\n              temps.push(obj.value);\r\n            }else if (item.split('[')[0] === 'LE'&&obj.value) {\r\n              temps.push(obj.value);\r\n            }\r\n          })\r\n          temp = temp + jointer(temps);\r\n        }else{\r\n          temp = temp + item;\r\n        }\r\n      });\r\n      // console.log('changed:' + e.target.name + \" to \" + temp);\r\n      setCheck(true);\r\n      setValue(temp);\r\n    };\r\n  \r\n    const boxClick = (e) => {\r\n      // console.log(check)\r\n      if (check) {\r\n        setCheck(false);\r\n      }else{\r\n        setCheck(true);\r\n      }\r\n    };\r\n  \r\n    let mainOption = (type) => {\r\n      switch(type) {\r\n        case 'V':\r\n          return (<input key={index + \"_\" + label} name={index} id={label} value={value} parentype={parentype} \r\n            type={(parentype === \"V\"|parentype === \"v\") ? \"radio\":\"checkbox\"} />);\r\n        case 'M':\r\n        case 'L':\r\n        case 'm':\r\n          return (<input key={index + \"_\" + label} onChange={boxClick} checked={check} name={index} id={label} \r\n            value={value} parentype={parentype} type={(parentype === \"V\"|parentype === \"v\") ? \"radio\":\"checkbox\"} />);\r\n        default:\r\n          return (<p> unknow type </p>);\r\n      }\r\n    }\r\n  \r\n    return (\r\n      <Grid\r\n      container\r\n      direction=\"row\"\r\n      spacing={1}\r\n      key={\"Gci_\" + index}\r\n    >\r\n      <Grid item> {mainOption(parentype)} </Grid>\r\n  \r\n      {sub_matchs.map((sub_match, sub_index) => {\r\n        const id = label + '_' + sub_match + '_' + sub_index.toString();\r\n        console.log(sub_match);\r\n        let sub_check = in_regexp.exec(sub_match);\r\n        if (sub_check) {\r\n          let type = sub_check[1];\r\n          console.log(sub_check[1] + \":\" + type);\r\n          switch(type) {\r\n            case 'H':\r\n              return (<Grid key={'G' + id} item ><AnyOptions key={id} handleChangeValue={handleChangeValue}\r\n                 index={id} style={style} in_op={true} form_value={form_value}\r\n                  options={sub_check[2]} type={'H'} /> </Grid>);\r\n            case 'LE':\r\n              return (<Grid key={'G' + id} item > <input key={id} size={4} htmlFor={label} name={id} type=\"text\" onChange={handleChangeValue} /> </Grid>);\r\n            case 'L':\r\n            case 'm':\r\n            case 'M':\r\n              return (<Grid key={'G' + id} item xs ><AnyOptions key={id} handleChangeValue={handleChangeValue}\r\n                index={id} style={style} in_op={true} form_value={form_value}\r\n                 options={sub_check[2]} type={'MR'} /> </Grid>);\r\n            default:\r\n              return (<p> unknow type </p>);\r\n          }\r\n        }else{\r\n            return (<Grid key={'G' + id} item >  <label key={id} htmlFor={label} vaule={sub_match} >{sub_match}</label> </Grid>);\r\n          }\r\n        })\r\n      }\r\n      </Grid>\r\n      );\r\n    }\r\n  \r\n  \r\n  export function AnyOptions(props) {\r\n    var { options, type } = props;\r\n    const { style, index, handleChangeValue, form_value, set_form_value, in_op} = props;\r\n    const in_regexp = /H\\[.+?\\]|M\\[.+?\\]|C\\[.+?\\]/g;\r\n    // const sub_op_regexp = /H\\[.?\\]|M\\[.?\\]|LE\\[\\]|C\\d*\\[.?\\]|L\\d*\\[.?\\]/;\r\n    let g_num = 3;\r\n  \r\n    if (in_regexp.test(options)) {\r\n      options = options.replaceAll(in_regexp, (match) => {\r\n        console.log(match);\r\n        return match.replaceAll(\"|\",\"|&\");\r\n      });\r\n    }\r\n\r\n    if (in_op) {\r\n      options = options.split(\"|&\");\r\n    }else{\r\n      options = options.split(/\\|(?!\\&)/);\r\n    }\r\n  \r\n    if (type[0] === 'G'&&type.length > 1) {\r\n      g_num = type[1];\r\n      type = type[0];\r\n    }\r\n  \r\n    let Grouped = (myArray, chunk_size) => {\r\n      var results = [];\r\n      while (myArray.length) {\r\n          results.push(myArray.splice(0, chunk_size));\r\n      }\r\n      return results;\r\n    }\r\n    console.log(form_value);\r\n\r\n    // console.log(type);\r\n    switch (type) {\r\n      case 'H':\r\n        return (\r\n          <Grid\r\n          container\r\n          direction=\"row\"\r\n          style={style}\r\n          key={\"Gc_\" + index}\r\n        >\r\n            {options.map((option, option_indxe) => {\r\n              const id = index + '_' + option_indxe.toString();\r\n              if (sub_op_regexp.test(option)) {\r\n                option = option.replace(sub_op_regexp,'')\r\n              }\r\n              option = option.replace(\"\\\\+\",\"\\\\Plus\");\r\n              if (option.match(/\\+/g)) {\r\n                option = option.replace('+','');\r\n                option = option.replace(\"\\\\Plus\",\"+\");\r\n                return (<Grid key={'G' + id} item ><input key={id} defaultChecked name={index} id={id} type=\"radio\" onChange={handleChangeValue} value={option}/> <label htmlFor={id}> {option} </label> </Grid>);\r\n              }else{\r\n                option = option.replace(\"\\\\Plus\",\"+\");\r\n                return (<Grid key={'G' + id} item ><input key={id} name={index} id={id} type=\"radio\" onChange={handleChangeValue} value={option}/> <label htmlFor={id}> {option} </label> </Grid>);\r\n              }\r\n            })}\r\n          </Grid>\r\n    );\r\n      case 'V':\r\n        return (\r\n          <Grid\r\n          container\r\n          direction=\"column\"\r\n          style={style}\r\n          key={\"Gc_\" + index}\r\n        >\r\n            {options.map((option, option_index) => {\r\n              //let sub_op_regexp = /(H\\[\\d+\\]|M\\[\\d+\\]|LE\\[\\d?\\]|C\\d*\\[\\d+\\]|L\\d*\\[\\])/g;\r\n              let id = index + '_' + option_index.toString();\r\n              if (sub_op_regexp.test(option)) {\r\n                console.log(option);\r\n                let sub_matchs = option.split(sub_op_regexp);\r\n                return (<InOptions form_value={form_value} key={id} parentype={type} index={index} label={id} sub_matchs={sub_matchs} />)\r\n              }\r\n              option = option.replace(\"\\\\+\",\"\\\\Plus\");\r\n              if (option.match(/\\+/g)) {\r\n                option = option.replace('+','');\r\n                option = option.replace(\"\\\\Plus\",\"+\");\r\n                return (<Grid key={'G' + id} item > <input ref={form_value[index]} key={id} defaultChecked name={index} id={id} type=\"radio\" value={option}/> <label htmlFor={id}> {option} </label> </Grid>);\r\n              }else{\r\n                option = option.replace(\"\\\\Plus\",\"+\");\r\n                return (<Grid key={'G' + id} item > <input ref={form_value[index]} key={id} name={index} id={id} type=\"radio\" value={option}/> <label htmlFor={id}> {option} </label> </Grid>);\r\n              }\r\n            })}\r\n          </Grid>\r\n    );\r\n      case 'L':\r\n      case 'm':\r\n      case 'M':\r\n        return (\r\n          <Grid\r\n          container\r\n          direction=\"column\"\r\n          key={\"Gc_\" + index}\r\n        >\r\n            {options.map((option, option_index) => {\r\n              const id = index + '_' + option_index.toString();\r\n              if (sub_op_regexp.test(option)) {\r\n                console.log(option);\r\n                let sub_matchs = option.split(sub_op_regexp)\r\n                // console.log(sub_matchs);\r\n                return (<Grid  key={'G' + id} item > <InOptions form_value={form_value} key={id} parentype={type} index={index} label={id} sub_matchs={sub_matchs} /></Grid>)\r\n              }else{\r\n                return (<Grid key={'G' + id} item > <input ref={form_value[index]} key={id} name={index} id={id} type=\"checkbox\"  value={option}/> <label htmlFor={id}> {option} </label> </Grid>);\r\n              }\r\n            })}\r\n          </Grid>\r\n        );\r\n      case 'G':\r\n        if (g_num > 12) {\r\n          g_num = 12;\r\n        }\r\n        const groups = Grouped(options, g_num);\r\n  \r\n        return (\r\n          <Grid\r\n          container\r\n          direction=\"column\"\r\n          key={\"Gc_\" + index}\r\n          >\r\n            {groups.map((group, g_index) => {\r\n              const id = index + '_' + g_index.toString();\r\n              return(<Grid key={'G' + id} item> <InVOptions form_value={form_value} key={id}  label={id} options={group} index={index} g_index={g_index} />  </Grid>);\r\n            })}\r\n            \r\n          </Grid>\r\n        );\r\n      case 'MR':\r\n        return (\r\n            <Grid\r\n            container\r\n            direction=\"row\"\r\n            style={style}\r\n            key={\"Gc_\" + index}\r\n          >\r\n              {options.map((option, option_indxe) => {\r\n                const id = index + '_' + option_indxe.toString();\r\n                return (<Grid key={'G' + id} item xs> <input ref={form_value[index]} key={id} name={index} onChange={handleChangeValue} id={id} type=\"checkbox\"  value={option}/> <label htmlFor={id}> {option} </label> </Grid>);\r\n              })}\r\n            </Grid>\r\n          );\r\n      case 'c':\r\n        return (\r\n            <Grid\r\n            container\r\n            direction=\"column\"\r\n            style={style}\r\n            key={\"Gc_\" + index}\r\n            >\r\n              <select ref={form_value[index]} name={index} >\r\n              {options.map((option, option_indxe) => {\r\n                const id = index + '_' + option_indxe.toString();\r\n                if (option.match(/[+]/g))  {\r\n                  option = option.replace(/[+]/g,'')\r\n                  return (<option key={id} value={option} selected={true}> {option} </option>);\r\n                }else{\r\n                  return (<option key={id} value={option}> {option} </option>);\r\n                }\r\n              })}\r\n              </select>\r\n            </Grid>\r\n          );\r\n      default:\r\n        console.log('key not found');\r\n        return (<p key={\"p_\" + index} > unknow type </p>);\r\n    }\r\n  }\r\n\r\nexport function Makeoption(props) {\r\n    const { main, form_value, set_from_value } = props;\r\n    let matches = [...main.split(re)];\r\n\r\n    return(\r\n        <form id='main'>\r\n            <Grid\r\n            container\r\n            direction=\"column\"\r\n            spacing={1}\r\n            key={\"G_Main\"}\r\n            >\r\n            {matches.map((match, index) => {\r\n              let check = regexp.exec(match);\r\n              if (check) {\r\n                return (<Grid key={\"G_\" + index.toString()} item> <AnyOptions form_value={form_value} key={\"A_\" + index.toString()} index={index.toString()} options={check[2]} type={check[1]}/> </Grid>);\r\n              }else{\r\n                let in_blink = in_blank_test.test(match);\r\n                if (in_blink) {\r\n                  return (<Grid key={\"G_\" + index.toString()} item> <BlinkSent id={index.toString()} key={\"L\" + index.toString()} index={index.toString()} blinksents={match} /> </Grid>);\r\n                }else{\r\n                  return (<Grid key={\"G_\" + index.toString()} item> <label id={index.toString()} key={\"L\" + index.toString()}> {match} </label> </Grid>);\r\n                }\r\n              }\r\n            })}\r\n            </Grid>\r\n        </form>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport DemoTreeView from './treeview';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Makeoption } from './makeOption';\r\n\r\nconst in_blank_test = /(L\\[.*?\\]|C\\[.*?\\])/;\r\n\r\nexport function TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`vertical-tabpanel-${index}`}\r\n      aria-labelledby={`vertical-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <Box p={3}>{children}</Box>}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nexport function a11yProps(index) {\r\n  return {\r\n    id: `vertical-tab-${index}`,\r\n    'aria-controls': `vertical-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n    display: 'flex',\r\n    height: 400,\r\n  },\r\n  tabs: {\r\n    borderRight: `1px solid ${theme.palette.divider}`,\r\n  },\r\n}));\r\n\r\n\r\nexport default function VerticalTabs(props) {\r\n  const { MyJson, setMyJson, edopen, setEdOpen, current_cate_short, setCurrent_cate_short, main, setMain, save} = props;\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [form_value, set_form_value] = React.useState({});\r\n\r\n  const off_tyText = () => {\r\n    var target = document.getElementsByName(\"ins_text\");\r\n    target.forEach(obj => {\r\n      obj.display = 'none';\r\n    })\r\n  }\r\n\r\n  const shortCuts = (key) => {\r\n    for (const [cate, value] of Object.entries(MyJson.category)) {\r\n      var result = value.find(item => {\r\n        return item.shortcut === key;\r\n      })\r\n      if (result) {\r\n        return result\r\n      }\r\n    }\r\n  }; \r\n\r\n  const handleKey = (event) => {\r\n    var startPosition = event.currentTarget.selectionStart;\r\n    var endPosition = event.currentTarget.selectionEnd;\r\n    if (!startPosition === endPosition) {\r\n      console.log('position inequal');\r\n      return\r\n    }\r\n    if (event.key === '\\\\') {\r\n      // console.log('here is it in: ' + startPosition);\r\n      const text = event.currentTarget.value;\r\n      const re_word = /\\b\\b/g;\r\n      var keyword = '';\r\n      var begin = startPosition - 2;\r\n      while (begin >= 0 && re_word.test(text.charAt(begin))) {\r\n        keyword = text.charAt(begin) + keyword;\r\n        begin --;\r\n        }\r\n\r\n      // console.log('selection:' + begin + 'to' +  startPosition + 'with' + keyword);\r\n      var find_key = shortCuts(keyword);\r\n      if (find_key) {\r\n        event.currentTarget.selectionStart = begin + 1;\r\n        event.currentTarget.selectionEnd = startPosition;\r\n        if (!re.test(find_key.main)) {\r\n          console.log(find_key.main);\r\n          insertText(find_key.main);\r\n          return\r\n        }\r\n        handleClickOpen(find_key.main, keyword)\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  const handleClickOpen = (value, cate_short) => {\r\n    setCurrent_cate_short(cate_short);\r\n    // console.log(cate_short);\r\n    setMain(value);\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  const jointer = (list, seper) => {\r\n    // console.log(list);\r\n    if (list.length === 1) {\r\n      return list[0];\r\n    }else if (seper){\r\n      return list.join(seper);\r\n    }else if (list.length === 2) {\r\n      return list[0] + ' and ' + list[1];\r\n    }else{\r\n      return list.slice(0,list.length - 1).join(', ') + ' and ' + list[list.length - 1];\r\n    }\r\n  };\r\n\r\n  function insertText(text) {\r\n    // document.getElementById(\"context\").value= text;\r\n    var target = document.getElementById(\"context\")\r\n    var startPosition = target.selectionStart;\r\n\r\n    if (target.setRangeText) {\r\n     //if setRangeText function is supported by current browser\r\n      target.setRangeText(text)\r\n    } else {\r\n      target.focus()\r\n      document.execCommand('insertText', false /*no UI*/, text);\r\n    }\r\n    const the_end = startPosition + text.length;\r\n    target.selectionStart = the_end;\r\n    target.selectionEnd = the_end;\r\n    target.focus();\r\n}\r\n\r\n  const editOpen = () => {\r\n    setOpen(false);\r\n    setEdOpen(true);\r\n  }\r\n\r\n  const editClose = () => {\r\n    setEdOpen(false);\r\n  }\r\n\r\n  const editSave = () => {\r\n    const myEdit = document.getElementById('editext');\r\n    const cateCombo = document.getElementById('cate');\r\n    var temp = MyJson;\r\n    console.log(current_cate_short);\r\n    if (current_cate_short[0]&&!current_cate_short[0] === cateCombo.value) {\r\n      alert('the category will be changed');\r\n      var the_index = temp.category[current_cate_short[0]].find((item) => {\r\n        return item.shortcut === current_cate_short[1];\r\n      })\r\n      temp.category[cateCombo.value].push(temp.category[current_cate_short[0]][the_index]);\r\n      delete temp.category[current_cate_short[0]][the_index];\r\n    }else if (!current_cate_short[0]) {\r\n      const item = {'shortcut':current_cate_short[1],\r\n                    'main':myEdit.value,\r\n                    'description':'',\r\n                    'active':'true'\r\n      }\r\n      temp.category[cateCombo.value].push(item);\r\n    }else{\r\n      temp.category[current_cate_short[0]].forEach((item, index) => {\r\n        if (item.shortcut === current_cate_short[1]) {\r\n          temp.category[current_cate_short[0]][index].main = myEdit.value;\r\n        }\r\n      })\r\n    }\r\n    setMyJson(temp);\r\n    save();\r\n    setMain(myEdit.value);\r\n    setEdOpen(false);\r\n    setOpen(true);\r\n  }\r\n\r\n  const handlecopy = (e) => {\r\n    const myEdit = document.getElementById('context');\r\n    myEdit.select();\r\n    document.execCommand('copy');\r\n    myEdit.select(false);\r\n  }\r\n\r\n//  const split_lable = (text, index) => {\r\n//    const sents = text.split(/\\r?\\n/g);\r\n//    sents.map(sent => {\r\n//      console.log(sent);\r\n//      return (<label key={index.toString()}> {sent} </label>);\r\n//    })\r\n//  }\r\n\r\n  const handleSubmit = (event) => {\r\n    const re_block = /block\\[(\\d+)\\]/g;\r\n    const myForm = document.getElementById('main');\r\n    const data = new FormData(myForm);\r\n    console.log(form_value);\r\n    let result = {};\r\n    for(var pair of data.entries()) {\r\n      if (pair[0] in result&&pair[0].indexOf('_') === -1) {\r\n        result[pair[0]].push(pair[1]);\r\n      }else if (pair[0].indexOf('_') === -1){\r\n        result[pair[0]] = [pair[1]];\r\n      };\r\n    };\r\n    // console.log(Object.keys(result)[0]);\r\n    let temp = '';\r\n    matches.forEach((item, index) => {\r\n      if (regexp.test(item)) {\r\n        if (index in result) {\r\n          if (item[0] === 'm') {\r\n            temp = temp + jointer(result[index], ' ');\r\n          }else if (item[0] === 'L') {\r\n            temp = temp + jointer(result[index], '\\n');\r\n          }else{\r\n            temp = temp + jointer(result[index]);\r\n          }\r\n        }\r\n      }else if(in_blank_test.test(item)) {\r\n\r\n      }else{\r\n        temp = temp + item\r\n      }\r\n    })\r\n    if (re_block.test(temp)) {\r\n      temp = temp.replace(re_block, (match, sub_number) => {\r\n        const block_index  = Object.keys(result)[sub_number];\r\n        if (block_index) {\r\n          return result[block_index];\r\n        }else{\r\n          return match;\r\n        }\r\n      });\r\n    }\r\n    // console.log(temp)\r\n    insertText(temp)\r\n    setOpen(false);\r\n  }\r\n\r\n  //const handleChange = (event, newValue) => {\r\n  //  setValue(newValue);\r\n  //};\r\n\r\n  let re = /(G\\d{.+?}|M.?{.+?}|m.?{.+?}|H{.+?}|h{.+?}|V{.+?}|v{.+?}|L{.+?}|C{.+?}|c{.+?}|#{.+?}|\\r?\\n)/g;\r\n  let regexp = /(^G\\d|^M.?|^m.?|^H|^h|^V|^v|^L|^#|^C|^c){(.+?)}/g;\r\n  // let return_re = /(\\n(?=(\\n+)))+/g\r\n\r\n  var textAreaStyle = {\r\n    width: 400,\r\n    height: 450,\r\n    border: '3px solid #cccccc',\r\n    padding: '5px',\r\n    overflow: 'auto',\r\n    marginLeft: '10px'\r\n}\r\n\r\n  let matches = [...main.split(re)];\r\n  // document.addEventListener(\"keypress\", handleKey, false);\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n      >\r\n        <Grid item1='true'>\r\n          <DemoTreeView expanded={value + 1} openDia={handleClickOpen} MyJson={MyJson}/>\r\n        </Grid>\r\n        <Grid item2='true'>\r\n          <textarea style={textAreaStyle} onKeyUp={handleKey} id='context'>\r\n          </textarea>\r\n          <Button id='bottum' onClick={handlecopy}> To clipboard </Button> <br />\r\n          <Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"Selector-dialog\">\r\n        <DialogTitle id=\"Selector-dialog\">Selector</DialogTitle>\r\n        <DialogContent >\r\n          <Makeoption main={main} form_value={form_value} set_form_value={set_form_value} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={editOpen} color=\"primary\">\r\n            Edit\r\n          </Button>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleSubmit} color=\"primary\">\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Dialog open={edopen} onClose={editClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Editor</DialogTitle>\r\n          <DialogContent >\r\n          <Grid\r\n            container\r\n            direction=\"column\"\r\n            spacing={2}\r\n            >\r\n            <Grid item>\r\n            <label>Cateegory: </label>\r\n            <select name='cate' id='cate' defaultValue={current_cate_short[0]} >\r\n              {MyJson.category_list.map((item,index) => {\r\n                return(<option key={index} value={item} > {item} </option>);\r\n              })}\r\n            </select>\r\n            </Grid>\r\n            <Grid item>\r\n            <textarea style={textAreaStyle} id='editext' defaultValue={main}>\r\n            </textarea>\r\n            </Grid>\r\n          </Grid>\r\n          </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={editClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={editSave} color=\"primary\">\r\n            SAVE\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\n\r\nconst instruction = '本網頁APP是改寫自我平日用來打報告用的輔助程式，主要是用來以表單的方式來生成制式的本文。目前是希望改寫成chrome extension。本程式有以下的功能: \\n \\\r\n1. 以簡單的關鍵字來生成選項，例如水平排列選項的格式範例為: H{option|option|option}，\"H\"表示水平排列，各選項間以\"|\"符號分開置於大括號(\"{\"及\"}\")內。\\n \\\r\n2. 支援的排列方式有\"H{}\"表示水平排列、\"V{}\":垂直排列、\"M{}\":多重選擇(以逗號分開)、\"m{}\":多重選擇(以空白分開)、\"L{}\":多重選擇(以單行分開)還有\"C\":下拉選單。\\n \\\r\n3. 支援選項內選項(限 \"V\"、\"M\"、\"m\"、\"L\"排列方式)，格式範例為M{H[right|left] option|option|option}，\"H\"表示水平排列，各選項間以\"|\"符號分開置於中括號(\"[\"及\"]\")內。\\n \\\r\n4. 支援的選項內選項排列方式有\"H[]\":水平排列、\"M[]\":多重選擇及\"LE[]\":空格。\\n \\\r\n5. 支援\"Hotstring\"，可以直接在編輯區域直接鍵入shortcut，然後接著按下\"\\\\\"按鍵(通常在Enter上方)，就可以啟動template。\\n \\\r\n6. 詳細使用方法請直接試用看看比較快，預設有四個category可以存放template，每個template有一個shortcut，shortcut通常是獨一無二的(可能有bug XD)，點擊後會出現選擇表單，下方的\"EDIT\"可以編輯template，\"CANCEL\"是取消，\"OK\"則會發送到編輯區域。\\n \\\r\n7. 左上方menu按鈕可以新增刪減template及category，也可以下載及上傳設定檔。本APP是純前端架構，所有的變更只會存在本地瀏覽器。\\n \\\r\n8. 目前還有些小bug，如有任何建議及問題可以直接跟我講。';\r\n\r\nconst instructions = instruction.split('\\n');\r\n\r\nconst get_instruction = () => {\r\n  alert(instruction);\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\n\r\nexport default function ButtonAppBar(props) {\r\n  const { action } = props;\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleMenu = (e, act) => {\r\n    action(act);\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <MenuIcon onClick={handleClick} />\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              anchorEl={anchorEl}\r\n              keepMounted\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleClose}\r\n            >\r\n              <MenuItem onClick={(e) => handleMenu(e, 'SL')}>Save Locally</MenuItem> \r\n              <MenuItem onClick={(e) => handleMenu(e, 'T')}> Add new template </MenuItem>\r\n              <MenuItem onClick={(e) => handleMenu(e, 'C')}> Add new category </MenuItem>\r\n              <MenuItem onClick={(e) => handleMenu(e, 'S')}> Download file </MenuItem>\r\n              <MenuItem onClick={(e) => handleMenu(e, 'L')}> Upload file </MenuItem>\r\n              <MenuItem onClick={(e) => handleMenu(e, 'DT')}> Delete template </MenuItem>\r\n              <MenuItem onClick={(e) => handleMenu(e, 'DC')}> Delete category </MenuItem>\r\n              <MenuItem onClick={(e) => handleMenu(e, 'SD')}> Set to Default </MenuItem>\r\n              \r\n            </Menu>\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Template\r\n          </Typography>\r\n          <Button color=\"inherit\" onClick={get_instruction}> 說明 </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import React from 'react';\nimport Demo from './demo';\nimport ButtonAppBar from './toolbar';\nimport Default from './demo.json';\n\nvar the_default = Default;\nvar getData = localStorage.getItem('MyJson');\nif (getData) {\n  the_default = JSON.parse(getData);\n}\n\n// import Default from './demo.json';\n// import FileSaver from 'file-saver';\n\nexport function download(data, fileName) {\n  if (fileName) {\n    var a = document.createElement(\"a\");\n    var file = new Blob([JSON.stringify(data)], {type: 'application/json'});\n    var filename = prompt(\"Define your file name.\");\n    a.href = URL.createObjectURL(file);\n    a.download = filename;\n    a.click();\n  }\n}\n\nexport function openFileDialog (accept, callback) {  \n\n// Create an input element\nvar inputElement = document.createElement(\"input\");\n\n// Set its type to file\ninputElement.type = \"file\";\n\n// Set accept to the file types you want the user to select. \n// Include both the file extension and the mime type\ninputElement.accept = accept;\n\n// set onchange event to call callback when user has selected file\ninputElement.addEventListener(\"change\", callback)\n\n// dispatch a click event to open the file dialog\ninputElement.dispatchEvent(new MouseEvent(\"click\")); \n}\n\nexport function checkshort(MyJson, shortcut) {\n  var final_finded = false;\n  for (const cate of Object.keys(MyJson.category)) {\n    var finded = MyJson.category[cate].findIndex(item => {\n      return item.shortcut === shortcut;\n    })\n    console.log(finded);\n  if (finded  !== -1) {\n    console.log(cate);\n    final_finded = [cate, finded];\n    break;\n  }\n  }\n  return final_finded;\n}\n\n\nexport default function App() {\n\n  const [MyJson, setMyJson] = React.useState(the_default);\n  // var edopen = false;\n  const [edopen, setEdOpen] = React.useState(false);\n  const [current_cate_short, setCurrent_cate_short] = React.useState([]);\n  const [main, setMain] = React.useState(\" \");\n\n  const load_local = () => {\n    var getData = localStorage.getItem('MyJson');\n    if (getData) {\n    setMyJson(JSON.parse(getData));\n    }\n  }\n\n  const save_local = () => {\n    const data =  JSON.stringify(MyJson);\n    localStorage.removeItem('MyJson')\n    localStorage.setItem('MyJson', data);\n  }\n\n  const demo_MyJson = (e) => {\n    console.log('change to:' + e)\n    setMyJson(e);\n  }\n\n  const demo_EdOpen = (e)  => {\n    setEdOpen(e);\n  }\n\n  const demo_current_cate_short = (e) => {\n    setCurrent_cate_short(e);\n  }\n\n  const demo_main = (e) => {\n    setMain(e);\n  }\n\n  const loadfile = (e) => {\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      var result = JSON.parse(e.target.result);\n      setMyJson(result);\n    };\n    reader.readAsText(e.target.files[0]);\n  }\n\n  const add_template = (shortname) => {\n    if (checkshort(MyJson, shortname)) {\n      alert('the shortcut is exist');\n      return\n    }else if (!shortname) {\n      return\n    }\n    setCurrent_cate_short(['', shortname]);\n    setMain('');\n    setEdOpen(true);\n  }\n\n  const add_category = (cate) => {\n    if (cate in MyJson.category) {\n      alert('the category is exist');\n      return false;\n    }\n    var temp = MyJson;\n    temp.category[cate] = [];\n    temp.category_list.push(cate);\n    save_local();\n    setMyJson(temp);\n    return true;\n  }\n\n  const setDefault = () => {\n    var ans = window.confirm('Are you sure to go back to default set, all local data will lost?');\n    if (ans) {\n      setMyJson(Default);\n      save_local();\n    }\n  }\n\n  const del_template = (shortcut) => {\n    const result = checkshort(MyJson, shortcut);\n    // console.log(result);\n    if (result) {\n      var temp = MyJson;\n      temp.category[result[0]].splice(result[1],1);\n      setMyJson(temp);\n      save_local();\n    }else {\n      alert('the shortcut is not exist');\n    }\n  }\n\n  const handleSave = (e) => {\n    if (e === 'S') {\n      download(MyJson, 'mytemplate.json');\n    }else if (e === 'L') {\n      openFileDialog('.json', loadfile);\n    }else if (e === 'T') {\n      var shortname = prompt(\"Define your template shortcut.\");\n      add_template(shortname);\n    }else if (e === 'C' ){\n      var catename = prompt(\"Define your category name.\");\n      const result = add_category(catename);\n    }else if (e === 'SL' ){\n      save_local();\n    }else if (e === 'LL' ){\n      load_local();\n    }else if (e === 'SD' ){\n      setDefault();\n    }else if (e === 'DT' ){\n      var shortname = prompt(\"Input shoutcut you want to delete.\");\n      del_template(shortname);\n    }else{\n      console.log('Errrr')\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <ButtonAppBar action={handleSave} />\n        <Demo MyJson={MyJson} setMyJson={demo_MyJson} edopen={edopen} setEdOpen={demo_EdOpen}\n        setCurrent_cate_short={demo_current_cate_short} current_cate_short={current_cate_short}\n        setMain={demo_main} main={main} save={save_local} />\n      </header>\n    </div>\n  );\n}\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}